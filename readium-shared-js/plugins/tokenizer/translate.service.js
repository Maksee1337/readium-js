define(function() {    return function () {        let self = this;        AWS.config.region = 'us-east-1';        AWS.config.credentials = new AWS.CognitoIdentityCredentials({IdentityPoolId: 'us-east-1:9e348431-fd20-446f-a859-26c395db4e30'});        const client = new AWS.Translate({ region: "us-east-1" });        let dictionary = undefined;        window.client = client;        function getDictionary() {            const jsonFile = 'dictionary_33722.json';            const link = 'http://localhost:8080/'+jsonFile;            fetch(link)                .then((response) => {                    return response.json();                })                .then((data) => {                    dictionary = data;                });        }        getDictionary();        this.translate = async function (text) {            var params = {                SourceLanguageCode: 'en',                TargetLanguageCode: 'ru',                Text: text,            };            let definition = undefined;            console.log('xaaq 2',text, dictionary.dictionary[text], dictionary.dictionary)            if( dictionary.dictionary[text] !== undefined) {                definition = dictionary.dictionary[text];            }            const res = new Promise(resolve =>  {                client.translateText(params, function (err, data) {                    if (err)                        console.log(err, err.stack);                    else                        resolve({                            translation: data['TranslatedText'],                            definition,                        });                });            })            return res;        }    };});